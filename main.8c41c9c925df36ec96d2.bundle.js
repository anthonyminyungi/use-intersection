(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{174:function(module,exports,__webpack_require__){__webpack_require__(175),__webpack_require__(254),module.exports=__webpack_require__(255)},255:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(14),__webpack_require__(15),__webpack_require__(21);var _storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(76);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.addParameters)({options:{name:"useIntersection",sidebarAnimations:!1}});var req=__webpack_require__(321);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.configure)(function(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(256)(module))},321:function(module,exports,__webpack_require__){var map={"./__stories__/Demo.stories.tsx":322};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=321},322:function(module,exports,__webpack_require__){"use strict";(function(module){var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var addon_actions_1=__webpack_require__(323),addon_knobs_1=__webpack_require__(393),react_1=__webpack_require__(76),React=__importStar(__webpack_require__(53)),__1=__webpack_require__(400),Empty=function(_a){var intersecting=_a.intersecting,height=_a.height;return React.createElement("div",{style:{height:height,background:intersecting?"lightgray":"whitesmoke"}})};Empty.defaultProps={height:"120vh"};var Text=function(_a){var intersecting=_a.intersecting;return React.createElement("h1",{style:{padding:"5rem 0",textAlign:"center"}},intersecting?"intersecting!!":"hiding")},Overview=function(){var target=React.useRef(null),intersecting=__1.useIntersection(target,{rootMargin:addon_knobs_1.text("rootMargin","0px"),threshold:addon_knobs_1.number("threshold",0,{range:!0,min:0,max:1,step:.01})},addon_actions_1.action("onChange")),empty=React.createElement(Empty,{intersecting:intersecting});return React.createElement(React.Fragment,null,empty,React.createElement("div",{ref:target},React.createElement(Text,{intersecting:intersecting})),empty)},WithThreshold=function(){var target=React.useRef(null),intersecting=__1.useIntersection(target,{threshold:.8},addon_actions_1.action("onChange")),empty=React.createElement(Empty,{intersecting:intersecting});return React.createElement(React.Fragment,null,empty,React.createElement("div",{ref:target},React.createElement(Text,{intersecting:intersecting})),empty)},WithRoot=function(){var root=React.useRef(null),target=React.useRef(null),intersecting=__1.useIntersection(target,{root:root,rootMargin:"100px"},addon_actions_1.action("onChange")),empty=React.createElement(Empty,{intersecting:intersecting,height:"500px"});return React.createElement("div",{ref:root,style:{overflow:"hidden scroll",height:300}},empty,React.createElement("div",{ref:target},React.createElement(Text,{intersecting:intersecting})),empty)},WithOnce=function(){var target=React.useRef(null),intersected=__1.useIntersection(target,{once:!0},addon_actions_1.action("onChange")),empty=React.createElement(Empty,{intersecting:intersected});return React.createElement(React.Fragment,null,empty,React.createElement("div",{ref:target},React.createElement(Text,{intersecting:intersected})),empty)};react_1.storiesOf("useIntersection",module).addDecorator(addon_knobs_1.withKnobs).add("overview",function(){return React.createElement(Overview,null)}).add("with threshold (0.8)",function(){return React.createElement(WithThreshold,null)}).add("with root element and rootMargin (100px)",function(){return React.createElement(WithRoot,null)}).add("with once",function(){return React.createElement(WithOnce,null)})}).call(this,__webpack_require__(22)(module))},400:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&(t[p[i]]=s[p[i]])}return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(53),shallowequal_1=__importDefault(__webpack_require__(401));exports.useIntersection=function(ref,options,callback){void 0===options&&(options={});var defaultIntersecting=options.defaultIntersecting,once=options.once,opts=__rest(options,["defaultIntersecting","once"]),optsRef=react_1.useRef(opts),_a=react_1.useState(!0===defaultIntersecting),intersecting=_a[0],setIntersecting=_a[1];return react_1.useEffect(function(){shallowequal_1.default(optsRef.current,opts)||(optsRef.current=opts)}),react_1.useEffect(function(){if(null!=ref.current){var observer=new IntersectionObserver(function(_a){var entry=_a[0];setIntersecting(entry.isIntersecting),null!=callback&&callback(entry),once&&entry.isIntersecting&&null!=ref.current&&observer.unobserve(ref.current)},__assign({},optsRef.current,{root:null!=optsRef.current.root?optsRef.current.root.current:null}));return observer.observe(ref.current),function(){once||null==ref.current||observer.unobserve(ref.current)}}},[optsRef.current]),intersecting}}},[[174,1,2]]]);
//# sourceMappingURL=main.8c41c9c925df36ec96d2.bundle.js.map